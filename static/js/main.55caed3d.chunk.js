(this["webpackJsonppic-galery"]=this["webpackJsonppic-galery"]||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/spinner.ecb5db6d.svg"},17:function(e,t,a){e.exports=a(36)},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),o=a(2),s=a(12),u=a.n(s),i=a(16);var m=function(e,t){switch(t.type){case"ADD_TO_FAVS":return[t.image].concat(Object(i.a)(e));case"REMOVE_FROM_FAVS":return e.filter((function(e){return e.id!==t.image.id}));default:return e}},f=Object(n.createContext)(),d=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!0),u=Object(o.a)(s,2),i=u[0],d=u[1],g=Object(n.useState)(!1),x=Object(o.a)(g,2),b=x[0],p=x[1],v=Object(n.useState)([]),h=Object(o.a)(v,2),E=h[0],O=h[1],j=Object(n.useReducer)(m,[],(function(){var e=localStorage.getItem("favs");return e?JSON.parse(e):[]})),S=Object(o.a)(j,2),y=S[0],w=S[1];return Object(n.useEffect)((function(){localStorage.setItem("favs",JSON.stringify(y))}),[y]),Object(n.useEffect)((function(){b&&(d(!0),O(y),d(!1))}),[b,y]),Object(n.useEffect)((function(){b||(d(!0),fetch("https://pixabay.com/api/?key=".concat("16139363-ed63ffa69d9ec31552c9ab349","&q=").concat(c,"&per_page=200&safesearch=false")).then((function(e){return e.json()})).then((function(e){O(e.hits),d(!1)})).catch((function(e){return console.log(e)})))}),[c,b]),r.a.createElement(f.Provider,{value:{images:E,isLoading:i,setIsLoading:d,setSearchTerm:l,setShowFavs:p,dispatch:w,favs:y}},e.children)};var g=function(e){var t=e.image,a=Object(n.useContext)(f),c=a.dispatch,l=a.favs,s=Object(n.useState)(!1),u=Object(o.a)(s,2),i=u[0],m=u[1];Object(n.useEffect)((function(){l.find((function(e){return e.id===t.id}))&&m(!0)}),[l]);var d=i?"fas fa-heart":"far fa-heart",g=i?"text-4xl":"text-3xl";return r.a.createElement("i",{className:" ".concat(d," ").concat(g," text-red-600 mr-4 cursor-pointer"),onClick:function(){c({type:i?"REMOVE_FROM_FAVS":"ADD_TO_FAVS",image:t}),m(!i)}})};var x=function(e){var t=e.image,a=e.index,n=e.openFullScreen,c=u.a.without(t.tags.split("")," ").join("").split(",");return r.a.createElement("div",{className:"rounded-lg overflow-hidden shadow-xl bg-gray-300 m-4 border border-gray-400 hover:border-gray-800"},r.a.createElement("img",{src:t.webformatURL,alt:"",className:"w-full object-cover cursor-pointer",style:{height:"300px"},onClick:function(){return n(a)}}),r.a.createElement("div",{className:"px-6 pt-4"},r.a.createElement("div",{className:"font-bold text-purple-500 text-xl mb-2"},"Photo by ",t.user),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Views: "),t.views),r.a.createElement("li",null,r.a.createElement("strong",null,"Downloads: "),t.downloads),r.a.createElement("li",null,r.a.createElement("strong",null,"Likes: "),t.likes))),r.a.createElement("div",{className:"px-6 py-4"},r.a.createElement(g,{image:t}),c.map((function(e,t){return r.a.createElement("span",{className:"inline-block bg-gray-200 text-sm font-semibold text-gray-700 mr-2 rounded-full px-3 py-1",key:t},"#",e)}))))},b=a(13),p=(a(34),a(15)),v=a.n(p);var h=function(){var e=Object(n.useContext)(f),t=e.isLoading,a=e.images,c=a.map((function(e){return e.largeImageURL})),l=Object(n.useState)(0),s=Object(o.a)(l,2),u=s[0],i=s[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),g=d[0],p=d[1];function h(e){i(e),p(!0)}return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"text-6xl text-center mt-48"},r.a.createElement("img",{src:v.a,alt:"Loading",className:"block mx-auto"})):a.length?r.a.createElement("div",{className:" mt-20"},r.a.createElement("div",{className:"grid grid-cols-1 max-w-screen-sm md:max-w-screen-lg md:grid-cols-2 xl:max-w-full xl:m-4 xl:grid-cols-3 mx-6 mx-auto"},a.map((function(e,t){return r.a.createElement(x,{key:e.id,image:e,index:t,openFullScreen:h})})),g&&r.a.createElement(b.a,{mainSrc:c[u],nextSrc:c[(u+1)%c.length],prevSrc:c[(u+c.length-1)%c.length],onCloseRequest:function(){return p(!1)},onMovePrevRequest:function(){return i((u+c.length-1)%c.length)},onMoveNextRequest:function(){return i((u+1)%c.length)}}))):r.a.createElement("div",{className:"text-6xl text-center mt-48"},"No images found"))};var E=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(f),s=l.setSearchTerm,u=l.setShowFavs;return r.a.createElement("div",{className:" mx-auto py-3 flex fixed top-0 w-full bg-gray-200"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(a),u(!1),window.scrollTo(0,0)},className:"border-b-2 border-teal-500 py-1 flex w-5/6 max-w-3xl mx-auto"},r.a.createElement("input",{className:" text-gray-700 py-1 px-2 focus:outline-none text-xl w-full mr-2",type:"text",value:a,onChange:function(e){return c(e.target.value)},placeholder:"Search image"}),r.a.createElement("input",{type:"submit",value:"Search",className:"bg-teal-500 hover:bg-teal-700 border-none text-lg text-white py-2 px-2 rounded flex-shrink-0 ml-auto"})),r.a.createElement("button",{onClick:function(){return u(!0)},className:" bg-orange-500 hover:bg-orange-600 border-none text-lg text-white px-2 py-2 rounded mx-3"},"Show favs"))};var O=function(){return r.a.createElement(d,null,r.a.createElement(E,null),r.a.createElement(h,null))};a(35);l.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.55caed3d.chunk.js.map